{"version":3,"file":"js/351.b03ad8ac.js","mappings":"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","sources":["webpack://project1/../wezeo acad fe/wezeo_vue/project1/src/plugins/lib@shopping-list/shopping-lists/shopping-lists.vue","webpack://project1/../wezeo acad fe/wezeo_vue/project1/src/plugins/lib@shopping-list/shopping-lists/_components/a-shopping-list.vue","webpack://project1/../wezeo acad fe/wezeo_vue/project1/src/plugins/lib@shopping-list/shopping-lists/_components/a-shopping-list.vue?c09d","webpack://project1/../wezeo acad fe/wezeo_vue/project1/src/plugins/lib@shopping-list/shopping-lists/rectPacking.js","webpack://project1/../wezeo acad fe/wezeo_vue/project1/src/plugins/lib@shopping-list/shopping-lists/shopping-lists.vue?50d6"],"sourcesContent":["\r\n<template>\r\n\t<h1>Lists</h1>\r\n\r\n\t<div \r\n\t\tstyle=\"background-color: aqua; width:fit-content; padding: 20px 30px;\"\r\n\t>\r\n\t\ttest div\r\n\t</div>\r\n\r\n\t<template v-if=\"!shoppingLists\">\r\n\t\t<p>Načítavam dáta</p>\r\n\t</template>\r\n\r\n\t<template v-else-if=\"shoppingLists.error\">\r\n\t\tPri načítaní dát nastala chyba: {{ shoppingLists.error }}\r\n\t</template>\r\n\r\n    <!-- Loaded shopping lists data, showing their brief representations (first 3 items) -->\r\n\t<template v-else>\r\n\t\t<button @click=\"addNewList()\">\r\n\t\t\tadd new list\r\n\t\t</button>\r\n\t\t\r\n\t\t<div id=\"lists-brief-container\">\r\n\t\t\t<AShoppingListBrief\r\n\t\t\t\tv-for=\"(shoppingList, index) in shoppingLists\"\r\n\t\t\t\t:ref=\"'listRefs'\"\r\n\t\t\t\t:key=\"shoppingList.id\"\r\n\t\t\t\t:shoppingList=\"shoppingList\" \r\n\t\t\t/>\r\n\t\t</div>\r\n\r\n\t</template>\r\n\r\n\t<br><br><br>\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport AShoppingListBrief from './_components/a-shopping-list.vue'\r\nimport { setRectPositions } from './rectPacking.js'\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tshoppingLists: null,\r\n\t\t\tlistDimensions: [],\r\n\t\t\t// stores the dimensions of each shopping list, later also the calculated position\r\n\t\t\tlastResizeTime: 0,\r\n\t\t\tminResizeInterval: 100 // milliseconds\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n        window.addEventListener(\"resize\", this.handleWindowResize);\r\n    },\r\n    destroyed() {\r\n        window.removeEventListener(\"resize\", this.handleWindowResize);\r\n    },\r\n\tasync mounted() {\r\n\t\ttry {\r\n\t\t\tconst { data: { data: shoppingLists} } = await axios.get('https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists')\r\n\t\t\tthis.shoppingLists = shoppingLists\r\n\r\n\t\t\tthis.$nextTick(() => {\r\n\r\n\t\t\t\t// populate listDimensions with objects containing the width and height of each list\r\n\t\t\t\tfor (let i = 0; i < this.shoppingLists.length; i++) {\r\n\r\n\t\t\t\t\tlet listStyle = this.$refs.listRefs[i].$el\r\n\t\t\t\t\tlet listTitle = this.$refs.listRefs[i].shoppingList.title\r\n\r\n\t\t\t\t\t// getting offsetWidth / height does not work. however, setting x and y does.\r\n\t\t\t\t\tlet dimObj = new Proxy(listStyle, {\r\n\t\t\t\t\t\tget(target, propName) {\r\n\t\t\t\t\t\t\tif (propName === \"w\") {\r\n\t\t\t\t\t\t\t\tconsole.log(listTitle, \"w\", listStyle.offsetWidth + 20)\r\n\t\t\t\t\t\t\t\treturn listStyle.offsetWidth + 20\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (propName === \"h\") {\r\n\t\t\t\t\t\t\t\tconsole.log(listTitle, \"h\", listStyle.offsetHeight + 20)\r\n\t\t\t\t\t\t\t\treturn listStyle.offsetHeight + 20\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tset(target, propName, propValue) {\r\n\t\t\t\t\t\t\tif (propName === \"x\") {\r\n\t\t\t\t\t\t\t\tlistStyle.style.left = `${propValue}px`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (propName === \"y\") {\r\n\t\t\t\t\t\t\t\tlistStyle.style.top = `${propValue}px`\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\telse { return false }\r\n\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.listDimensions.push(dimObj)\r\n\t\t\t\t}\r\n\t\t\t\tsetRectPositions(this.listDimensions, window.innerWidth)\r\n\t\t\t})\r\n\t\t\t\r\n\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error:', error)\r\n\t\t\tthis.shoppingLists = { error }\r\n\t\t}     \r\n\t},\r\n\tcomponents: {\r\n\t\tAShoppingListBrief\r\n\t},\r\n\tmethods: {\r\n\t\tasync addNewList() {\r\n\r\n\t\t\ttry {\r\n\t\t\t\tvar response = await axios.post(\r\n                    `https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'new list'\r\n\t\t\t\t\t}\r\n                )\r\n\r\n\t\t\t\tthis.shoppingLists.push(response.data.data)\r\n\t\t\t\tconsole.log('succesfully added a new shopping list')\r\n\t\t\t\tthis.$router.push(`/shopping-list/${response.data.data.id}`)\r\n\t\t\t}\r\n\t\t\tcatch (error) {\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleWindowResize(e) {\r\n\t\t\tif (e.timeStamp - this.lastResizeTime > this.minResizeInterval) {\r\n\t\t\t\tthis.lastResizeTime = e.timeStamp\r\n\t\t\t\tsetRectPositions(this.listDimensions, window.innerWidth)\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n}\r\n</script>\r\n\r\n<style>\r\n#lists-brief-container {\r\n\tposition: relative;\r\n\tmargin-top: 20px;\r\n}\r\n</style>","<template>\r\n    <div \r\n    :href=\"`/shopping-lists/${shoppingList.id}`\" \r\n    @click.prevent=\"openShoppingListDetail(shoppingList.id)\" \r\n    class=\"shopping-list-brief\"     \r\n>\r\n        <h2>{{ shoppingList.title }}</h2>\r\n        <ul>\r\n            <li v-for=\"item in shoppingList.items.slice(0, showItemCount)\" :key=\"item.id\">\r\n                <span :class=\"{ 'item-checked': item.is_checked }\" >\r\n                    {{ item.name }}\r\n                    {{ item.value }}\r\n                    {{ item.unit }}\r\n                </span>\r\n            </li>\r\n\r\n            <li v-if=\"shoppingList.items.length > showItemCount\">\r\n                ... and {{ shoppingList.items.length - showItemCount }} more\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        'shoppingList': {\r\n            type: Object,\r\n            default: {\r\n                'title' : 'no title',\r\n                'items' : [],\r\n                'id' : 0\r\n            }\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            showItemCount: 3, // How many items are shown in this brief list view\r\n            debugWidth: 0,\r\n            debugHeight: 0\r\n        }\r\n    },\r\n    methods: {\r\n        openShoppingListDetail(id) {\r\n            this.$router.push({ name: 'Shopping List - Detail', params: { id } })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n/* without the no wrap, it all falls apart, don't know why */\r\n.shopping-list-brief {\r\n    text-decoration: none;\r\n    color: black;\r\n    background-color: antiquewhite;\r\n    border: 1px solid black;\r\n    border-radius: 15px;\r\n    padding: 10px;\r\n    text-wrap: nowrap; \r\n    width: fit-content;\r\n    position: absolute;\r\n}\r\n.shopping-list-brief:hover {\r\n    background-color:azure;\r\n    cursor: pointer;\r\n}\r\n\r\n.item-checked {\r\n    text-decoration: line-through;\r\n}\r\n</style>","import { render } from \"./a-shopping-list.vue?vue&type=template&id=7bc21261\"\nimport script from \"./a-shopping-list.vue?vue&type=script&lang=js\"\nexport * from \"./a-shopping-list.vue?vue&type=script&lang=js\"\n\nimport \"./a-shopping-list.vue?vue&type=style&index=0&id=7bc21261&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export class Rect {\r\n    constructor(x, y, w, h) {\r\n      this.x = x;\r\n      this.y = y;\r\n      this.w = w; // width\r\n      this.h = h; // height\r\n    }\r\n    \r\n  }\r\n  \r\n  export class Edge {\r\n    constructor(x, y, w) {\r\n      // x. y coordinates of the leftmost point of the edge\r\n      this.x = x\r\n      this.y = y\r\n      this.w = w // width of the edge\r\n    }\r\n  }\r\n\r\n  // Takes an array of rect objects (as defined above) and\r\n  // determines their positions (x, y)\r\n  export function setRectPositions(rects, maxWidth) {\r\n    // sort the rects so that the widest ones come first\r\n    rects.sort((a, b) => \r\n    {\r\n      if (a.w < b.w) { return 1; } \r\n      else if (a.w > b.w) { return -1; }\r\n      return 0;\r\n    })\r\n    \r\n    let edges = new Array()\r\n    edges.push(new Edge(0, 0, maxWidth))\r\n    \r\n    for (let i = 0; i < rects.length; i++)\r\n    {\r\n      const rectToPlace = rects[i]\r\n      let bestEdge = edges[0]\r\n      let bestEdgeIndex = 0 // will become the index of the best edge\r\n      let bestScore = 1000000\r\n      \r\n      // pick the edge, onto which when the rect is placed, it \r\n      // minimizes the \"bounding rect\" height - the score metric\r\n      for (let j = 0; j < edges.length; j++) \r\n      {\r\n        if (edges[j].w >= rectToPlace.w)\r\n        {\r\n          const score = edges[j].y + rectToPlace.h\r\n          if (score < bestScore)\r\n          {\r\n            bestEdge = edges[j] \r\n            bestEdgeIndex = j\r\n            bestScore = score\r\n          }\r\n        }\r\n      }\r\n      \r\n      // place the rect\r\n      rectToPlace.x = bestEdge.x\r\n      rectToPlace.y = bestEdge.y\r\n      \r\n      // update edge to reflect that the rect has been placed onto it\r\n      edges[bestEdgeIndex].x += rectToPlace.w\r\n      edges[bestEdgeIndex].w -= rectToPlace.w\r\n      \r\n      // add a new edge - the bottom edge of the rect\r\n      const e = new Edge(\r\n        rectToPlace.x,\r\n        rectToPlace.y + rectToPlace.h,\r\n        rectToPlace.w)\r\n      \r\n      edges.push(e)\r\n    }\r\n  \r\n  }\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  ","import { render } from \"./shopping-lists.vue?vue&type=template&id=5c5261f1\"\nimport script from \"./shopping-lists.vue?vue&type=script&lang=js\"\nexport * from \"./shopping-lists.vue?vue&type=script&lang=js\"\n\nimport \"./shopping-lists.vue?vue&type=style&index=0&id=5c5261f1&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","style","key","id","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","$data","shoppingLists","error","_createTextVNode","_toDisplayString","onClick","_cache","$event","$options","addNewList","_hoisted_4","_renderList","shoppingList","index","_createBlock","_component_AShoppingListBrief","ref_for","ref","_hoisted_3","_hoisted_5","_hoisted_6","_hoisted_7","href","$props","_withModifiers","openShoppingListDetail","class","title","items","slice","showItemCount","item","_normalizeClass","is_checked","name","value","unit","length","_createCommentVNode","props","type","Object","default","data","debugWidth","debugHeight","methods","this","$router","push","params","__exports__","Edge","constructor","x","y","w","setRectPositions","rects","maxWidth","sort","a","b","edges","Array","i","rectToPlace","bestEdge","bestEdgeIndex","bestScore","j","score","h","e","listDimensions","lastResizeTime","minResizeInterval","created","window","addEventListener","handleWindowResize","destroyed","removeEventListener","mounted","axios","get","$nextTick","listStyle","$refs","listRefs","$el","listTitle","dimObj","Proxy","target","propName","console","log","offsetWidth","offsetHeight","set","propValue","left","top","innerWidth","components","AShoppingListBrief","response","post","timeStamp","render"],"sourceRoot":""}