"use strict";(self["webpackChunkproject1"]=self["webpackChunkproject1"]||[]).push([[920],{2920:function(t,s,i){i.r(s),i.d(s,{default:function(){return C}});var e=i(2420),n=i(6764);const o=(0,e.Lk)("h1",null,"Lists",-1),a={key:0};function p(t,s,i,p,r,l){const h=(0,e.g2)("AShoppingListBrief");return(0,e.uX)(),(0,e.CE)(e.FK,null,[o,r.shoppingLists?r.shoppingLists.error?((0,e.uX)(),(0,e.CE)(e.FK,{key:1},[(0,e.eW)(" Pri načítaní dát nastala chyba: "+(0,n.v_)(r.shoppingLists.error),1)],64)):((0,e.uX)(!0),(0,e.CE)(e.FK,{key:2},(0,e.pI)(r.shoppingLists,(t=>((0,e.uX)(),(0,e.CE)("span",{key:t.id},[(0,e.bF)(h,{title:t.title,items:t.items,id:t.id},null,8,["title","items","id"])])))),128)):((0,e.uX)(),(0,e.CE)("p",a,"Načítavam dáta")),(0,e.Lk)("button",{onClick:s[0]||(s[0]=t=>l.addNewList())}," add new list ")],64)}i(3926);var r=i(3955),l=i(6718);const h=["href"],u={class:"shopping-list-brief"},c={key:0};function d(t,s,i,o,a,p){return(0,e.uX)(),(0,e.CE)("a",{href:`/shopping-lists/${i.id}`,onClick:s[0]||(s[0]=(0,l.D$)((t=>p.openShoppingListDetail(i.id)),["prevent"])),class:"shopping-list-link"},[(0,e.Lk)("div",u,[(0,e.Lk)("h2",null,(0,n.v_)(i.title),1),(0,e.Lk)("ul",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(i.items.slice(0,a.showItemCount),(t=>((0,e.uX)(),(0,e.CE)("li",{key:t.id},[(0,e.Lk)("span",{class:(0,n.C4)({"item-checked":t.is_checked})},(0,n.v_)(t.name)+" "+(0,n.v_)(t.value)+" "+(0,n.v_)(t.unit),3)])))),128)),i.items.length>a.showItemCount?((0,e.uX)(),(0,e.CE)("li",c," ... and "+(0,n.v_)(i.items.length-a.showItemCount)+" more ",1)):(0,e.Q3)("",!0)])])],8,h)}var g={props:{title:String,items:Object,id:Number},data(){return{showItemCount:3}},methods:{openShoppingListDetail(t){this.$router.push({name:"Shopping List - Detail",params:{id:t}})}}},m=i(8493);const k=(0,m.A)(g,[["render",d]]);var L=k,v={data(){return{shoppingLists:null}},async mounted(){try{const{data:{data:t}}=await r.A.get("https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists");this.shoppingLists=t}catch(t){console.error("Error:",t),this.shoppingLists={error:t}}},components:{AShoppingListBrief:L},methods:{async addNewList(){try{var t=await r.A.post("https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/",{title:"new list"});201==t.status?(this.shoppingLists.push(t.data.data),console.log("succesfully added a new shopping list"),this.$router.push(`/shopping-list/${t.data.data.id}`)):console.log(`unknown error (but not outright exception) while  trying to create a new list. status ${t.status}`)}catch(s){console.log(s)}}}};const w=(0,m.A)(v,[["render",p]]);var C=w}}]);
//# sourceMappingURL=920.2cc7697b.js.map