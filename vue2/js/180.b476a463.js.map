{"version":3,"file":"js/180.b476a463.js","mappings":"mLAAAA,IAAA,G,EAAA,U,GAWgBC,YAAa,EAAGC,YAAY,K,GAapCC,EAAAA,EAAAA,IAAI,mB,GAIJA,EAAAA,EAAAA,IAAI,mB,GAAAA,EAAAA,EAAAA,IAAI,mB,GAKRA,EAAAA,EAAAA,IAAI,mB,GAAAA,EAAAA,EAAAA,IAAI,mB,GACRA,EAAAA,EAAAA,IAAY,SAAT,SAAK,G,0EAjCKC,EAAAC,eACF,WAGfC,EAAAA,EAAAA,IA8BWC,EAAAA,GAAA,CAnCfP,IAAA,KAQQG,EAAAA,EAAAA,IAAqE,SAA7DK,MAAOJ,EAAAC,aAAaI,MAAQC,SAAMC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,cAAAD,EAAAC,gBAAAF,IAAcG,GAAG,S,QARrEC,IAWQb,EAAAA,EAAAA,IAUQ,QAVRc,EAUQ,gBARJX,EAAAA,EAAAA,IAKKC,EAAAA,GAAA,MAlBjBW,EAAAA,EAAAA,IAa+Bd,EAAAC,aAAac,OAArBC,K,WAAXd,EAAAA,EAAAA,IAKK,MALmCN,IAAKoB,EAAKL,I,EAC9CM,EAAAA,EAAAA,IAGeC,EAAA,CAFVC,cAAcV,EAAAW,WACdC,cAAcZ,EAAAa,WAClBN,KAAMA,G,6DAGXjB,EAAAA,EAAAA,IAA4C,UAAnCwB,QAAKhB,EAAA,KAAAA,EAAA,GAAAiB,GAAEf,EAAAgB,YAAW,cAI/BC,GACA3B,EAAAA,EAAAA,IAES,UAFAwB,QAAKhB,EAAA,KAAAA,EAAA,GAAAiB,GAAEf,EAAAkB,uBAAsB,oBAGtCC,EAAIC,GACJ9B,EAAAA,EAAAA,IAES,UAFAwB,QAAKhB,EAAA,KAAAA,EAAA,GAAAiB,GAAEf,EAAAqB,qBAAoB,UAIpCC,EAAIC,EACJC,GAlCRC,EAAAA,EAAAA,IAkCoB,sDAChB,OAlC6B,WAC/BhC,EAAAA,EAAAA,IAAqB,IAFvBiC,EAEK,kB,oDCFLC,EAAAA,EAAAA,IAAA,+M,GAWYD,G,0CAXZjC,EAAAA,EAAAA,IAAAC,EAAAA,GAAA,OAGIJ,EAAAA,EAAAA,IAEK,qBADDA,EAAAA,EAAAA,IAAoE,SAJ5E,sBAAAQ,EAAA,KAAAA,EAAA,GAAAiB,GAI6BxB,EAAAqC,WAAWC,KAAId,GAAGe,MAAM,wB,iBAAxBvC,EAAAqC,WAAWC,UAAI,GAJ5CE,MAIe,SAEXzC,EAAAA,EAAAA,IAEK,qBADDA,EAAAA,EAAAA,IAAqE,SAP7E,sBAAAQ,EAAA,KAAAA,EAAA,GAAAiB,GAO6BxB,EAAAqC,WAAWjC,MAAKoB,GAAGe,MAAM,wB,iBAAzBvC,EAAAqC,WAAWjC,WAAK,GAP7CoC,MAOe,SAEXzC,EAAAA,EAAAA,IAQK,qBAPDA,EAAAA,EAAAA,IAMS,UAhBjB,sBAAAQ,EAAA,KAAAA,EAAA,GAAAiB,GAU8BxB,EAAAqC,WAAWI,KAAIjB,GAAGe,MAAM,wBAVtDV,EAAA,YAU8B7B,EAAAqC,WAAWI,UAAI,GAV7CD,MAUgB,SAQZzC,EAAAA,EAAAA,IAEK,qBADDA,EAAAA,EAAAA,IAA6D,SAnBrE,sBAAAQ,EAAA,KAAAA,EAAA,GAAAiB,GAmB6BxB,EAAAqC,WAAWK,WAAUlB,GAAGmB,KAAK,Y,iBAA7B3C,EAAAqC,WAAWK,gBAAU,GAnBlDF,MAmBe,SAEXzC,EAAAA,EAAAA,IAA0B,UAAtB,QAAI6C,EAAAA,EAAAA,IAAGC,EAAA7B,KAAKL,IAAE,O,CAMtB,OACImC,MAAO,CAAC,eAAgB,gBACxBC,MAAO,CACH/B,KAAM,CACF2B,KAAMK,OACNC,UAAU,IAGlBC,IAAAA,GACI,MAAO,CACHC,uBAAuB,EACvBd,WAAY,CACRC,KAAM,GACNlC,MAAO,GACPqC,KAAM,GACNC,YAAY,EACZ/B,GAAI,GAGhB,EACAyC,OAAAA,GACIC,KAAKhB,WAAa,IAAKgB,KAAKrC,KAChC,EACAsC,MAAO,CACHjB,WAAY,CACRkB,OAAAA,CAAQC,GAICH,KAAKF,uBAOVM,QAAQC,IAAI,sBAAuBF,GAEf,KAAhBA,EAAOlB,KAKXe,KAAKM,MAAM,eAAgBH,GAJvBH,KAAKM,MAAM,eAAgBH,IAP3BH,KAAKF,uBAAwB,CAYrC,EACAS,MAAM,K,UCjElB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,QFkCA,GACCX,IAAAA,GACC,MAAO,CACNjD,aAAc,KAEhB,EACG,aAAMmD,GACF,IACI,MAAQF,MAAQA,KAAMY,UAA0BC,EAAAA,EAAMC,IAAI,4DAC1DX,KAAKpD,aAAe6D,EAAcG,MAAK,EAAGtD,QAASA,GAAM0C,KAAKa,OAAOC,OAAOxD,KAC5E8C,QAAQC,IAAIL,KAAKpD,aACrB,CAAE,MAAOmE,GACLX,QAAQW,MAAM,SAAUA,GACxBf,KAAKpD,aAAe,CAAEmE,QAC1B,CACJ,EACHC,WAAY,CACXC,uBAAsBA,GAEpBC,QAAS,CAEL,wBAAM5C,GAEF,IACF,MAAM6C,QAAiBT,EAAAA,EAAMU,OAClB,4DAA4DpB,KAAKa,OAAOC,OAAOxD,MAEzE,KAAnB6D,EAASE,QACGjB,QAAQC,IAAI,yCACZL,KAAKvB,oBAGL2B,QAAQC,IACtB,qFAAoCc,EAASE,SAEhD,CACA,MAAON,GACNX,QAAQC,IAAIU,EACb,CACK,EAEAtC,gBAAAA,GACIuB,KAAKsB,QAAQC,KAAK,CAAEtC,KAAM,wBAC9B,EAEA,kBAAM5B,CAAamE,GAGf,SAASC,EAAY7E,GACjB,IAAI8E,EAAW9E,EAAaI,MAC5BJ,EAAaI,MAAQ,GACrBJ,EAAaI,MAAQ0E,CACzB,CAEA,IAAIC,EAAWH,EAAMI,OAAO7E,MAG5B,GAAgB,IAAZ4E,EAKJ,IACI,MAAMR,QAAiBT,EAAAA,EAAMmB,IACxB,4DAA4D7B,KAAKa,OAAOC,OAAOxD,KAChF,CACIN,MAAO2E,IAGQ,KAAnBR,EAASE,QACTrB,KAAKpD,aAAaI,MAAQ2E,EAC1BvB,QAAQC,IAAK,mCAEbD,QAAQC,IAAK,2DACboB,EAAYzB,KAAKpD,cAEzB,CACA,MAAOmE,GACHX,QAAQC,IAAIU,GACZU,EAAYzB,KAAKpD,aACrB,MAtBI6E,EAAYzB,KAAKpD,aAuBzB,EAEA,gBAAMmB,CAAWJ,GAEb,IACI,MAAMwD,QAAiBT,EAAAA,EAAMmB,IACxB,4DAA4D7B,KAAKa,OAAOC,OAAOxD,YAAaK,EAAKL,KAClG,CACI2B,KAAMtB,EAAKsB,KACXlC,MAAOY,EAAKZ,MACZqC,KAAMzB,EAAKyB,KACXC,WAAY1B,EAAK0B,aAGF,KAAnB8B,EAASE,OACTjB,QAAQC,IAAK,oCAAmC1C,EAAKL,gBAErD8C,QAAQC,IAAK,sCAAqC1C,EAAKL,wBAAwB6D,EAASE,SAEhG,CACA,MAAON,GAC0B,KAAzBA,EAAMI,SAASE,OACfjB,QAAQC,IACH,2DAAGL,KAAKa,OAAOC,OAAOxD,eAAgBK,EAAKL,8CAGhD8C,QAAQC,IAAK,qDAAoD1C,EAAKL,KAE9E,CAEJ,EAEA,gBAAMW,CAAW6D,GACb,IACI,MAAMX,QAAiBT,EAAAA,EAAMU,OACxB,4DAA4DpB,KAAKa,OAAOC,OAAOxD,YAAawE,EAAaxE,MAEvF,KAAnB6D,EAASE,QACTjB,QAAQC,IAAK,oCAAmCyB,EAAaxE,MAC7D0C,KAAKpD,aAAac,MAAQsC,KAAKpD,aAAac,MAAMqE,QAAOpE,GAAQA,EAAKL,IAAMwE,EAAaxE,MAEzF8C,QAAQC,IAAK,0CAAyCyB,EAAaxE,2CAE3E,CACA,MAAOyD,GACHX,QAAQC,IAAK,6CAA4CyB,EAAaxE,KAC1E,CACJ,EAEA,aAAMc,GACF,IACI,MAAM+C,QAAiBT,EAAAA,EAAMsB,KACxB,4DAA4DhC,KAAKa,OAAOC,OAAOxD,YAChF,CACI2B,KAAM,gBACNlC,MAAO,IACPqC,KAAM,QACNC,YAAY,IAGpB,GAAuB,KAAnB8B,EAASE,OAAe,CACxBrB,KAAKpD,aAAac,MAAM6D,KAAKJ,EAAStB,KAAKA,MAC3C,IAAIoC,EAAiBd,EAAStB,KAAKA,KACnCO,QAAQC,IAAK,wCAAuC4B,EAAe3E,KACvE,MACI8C,QAAQC,IAAI,+EAGpB,CACA,MAAOU,GACHX,QAAQC,IAAIU,EAChB,CAGJ,IG/LR,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASmB,KAEpE,O","sources":["webpack://project1/../wezeo acad fe/wezeo_vue/project1/src/plugins/lib@shopping-list/shopping-list-detail/shopping-list-detail.vue","webpack://project1/../wezeo acad fe/wezeo_vue/project1/src/plugins/lib@shopping-list/shopping-list-detail/_components/shopping-list-detail-item.vue","webpack://project1/../wezeo acad fe/wezeo_vue/project1/src/plugins/lib@shopping-list/shopping-list-detail/_components/shopping-list-detail-item.vue?9975","webpack://project1/../wezeo acad fe/wezeo_vue/project1/src/plugins/lib@shopping-list/shopping-list-detail/shopping-list-detail.vue?98a9"],"sourcesContent":["<template>\r\n    <template v-if=\"!shoppingList\">\r\n\t\t<p>Naƒç√≠tavam d√°ta</p>\r\n\t</template>\r\n    \r\n    <template v-else>\r\n        \r\n        <!-- shopping list name -->\r\n        <input :value=\"shoppingList.title\" @change=\"changedTitle\" id=\"title\">\r\n\r\n        <!-- list content + new item button -->\r\n        <table :cellspacing=\"0\" cellpadding=\"5\">\r\n            <!-- loop writing all items -->\r\n            <tr v-for=\"item in shoppingList.items\" :key=\"item.id\">\r\n                <ShoppingListDetailItem \r\n                    @changed-item='changeItem'\r\n                    @deleted-item='deleteItem'\r\n                :item=\"item\" />\r\n            </tr>\r\n\r\n            <button @click=\"newItem()\">new item</button>\r\n        </table>\r\n\r\n        <!-- rest of UI e.g. delete list and go back -->\r\n        <br>\r\n        <button @click=\"deleteShoppingList()\">\r\n            delete list üíÄ\r\n        </button>\r\n        <br><br>\r\n        <button @click=\"goToAllListsView()\">\r\n            back\r\n        </button>\r\n\r\n        <br><br>\r\n        <b>note:</b> to delete an item, rename it to an empty string\r\n    </template>\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport ShoppingListDetailItem from './_components/shopping-list-detail-item.vue'\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tshoppingList: null\r\n\t\t}\r\n\t},\r\n    async mounted() {\r\n        try {\r\n            const { data: { data: shoppingLists } } = await axios.get('https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists')        \r\n            this.shoppingList = shoppingLists.find(({ id }) => id == this.$route.params.id)\r\n            console.log(this.shoppingList)\r\n        } catch (error) {\r\n            console.error('Error:', error)\r\n            this.shoppingList = { error }\r\n        }\r\n    },\r\n\tcomponents: {\r\n\t\tShoppingListDetailItem\r\n\t},\r\n    methods: {\r\n\r\n        async deleteShoppingList() {\r\n\r\n            try {\r\n\t\t        const response = await axios.delete(\r\n                    `https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/${ this.$route.params.id}`\r\n                )\r\n\t\t\t\tif (response.status == 200) {\r\n                    console.log(\"succesfully deleted the shopping list\")\r\n                    this.goToAllListsView();\r\n                }\r\n                else {\r\n                    console.log(`unknown error (but not outright exception) while ` + \r\n\t\t\t\t\t\t` trying to delete a list. status ${response.status}`)\r\n                }\r\n\t\t\t}\r\n\t\t\tcatch (error) {\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t}\r\n        },\r\n        \r\n        goToAllListsView() {\r\n            this.$router.push({ name: 'Shopping List - List'})\r\n        },\r\n\r\n        async changedTitle(event) {\r\n\r\n            // utility function \r\n            function setOldTitle(shoppingList) {\r\n                let oldTitle = shoppingList.title\r\n                shoppingList.title = \"\" // to trigger a refresh from the reactivity system\r\n                shoppingList.title = oldTitle\r\n            }\r\n\r\n            let newTitle = event.target.value\r\n            \r\n            // The title can't be empty\r\n            if (newTitle == \"\") {\r\n                setOldTitle(this.shoppingList)\r\n                return;\r\n            }\r\n            \r\n            try {\r\n                const response = await axios.put(\r\n                    `https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/${ this.$route.params.id}`,\r\n                    {\r\n                        title: newTitle\r\n                    }\r\n                );\r\n                if (response.status == 200) {\r\n                    this.shoppingList.title = newTitle;\r\n                    console.log(`succesfully renamed this list`);\r\n                } else {\r\n                    console.log(`unsuccesfully renamed this list. reverting to old title`);\r\n                    setOldTitle(this.shoppingList)\r\n                }\r\n            }\r\n            catch (error) {\r\n                console.log(error)\r\n                setOldTitle(this.shoppingList)\r\n            }\r\n        },\r\n\r\n        async changeItem(item) {\r\n            \r\n            try {\r\n                const response = await axios.put(\r\n                    `https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/${ this.$route.params.id}/items/${ item.id }`,\r\n                    {\r\n                        name: item.name,\r\n                        value: item.value,\r\n                        unit: item.unit,\r\n                        is_checked: item.is_checked\r\n                    }\r\n                );\r\n                if (response.status == 200) {\r\n                    console.log(`succesfully changed item with id ${item.id} on server`);\r\n                } else {\r\n                    console.log(`unsuccesfully changed item with id ${item.id}. response status: ${response.status}`);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.response.status == 404) {\r\n                    console.log(`Error 404 not found while trying to change item in list ` +\r\n                        `${ this.$route.params.id}, item id ${ item.id }. ` + \r\n                        `Item most likely doesn't exist anymore`);\r\n                } else {\r\n                    console.log(`Unknown error while trying to change item with id ${item.id}`);\r\n                }\r\n            }\r\n            \r\n        },\r\n\r\n        async deleteItem(itemToDelete) {\r\n            try {\r\n                const response = await axios.delete(\r\n                    `https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/${ this.$route.params.id}/items/${ itemToDelete.id }`\r\n                )\r\n                if (response.status == 200) {   \r\n                    console.log(`succesfully deleted item with id ${itemToDelete.id}`)\r\n                    this.shoppingList.items = this.shoppingList.items.filter(item => item.id != itemToDelete.id)\r\n                } else {\r\n                    console.log(`no success while deleting item with id ${itemToDelete.id}, but we didnt get an exception either`);\r\n                }\r\n            }\r\n            catch (error) {\r\n                console.log(`Error while trying to delete item with id ${itemToDelete.id}`);\r\n            }\r\n        },\r\n\r\n        async newItem() {\r\n            try {\r\n                const response = await axios.post(\r\n                    `https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/${ this.$route.params.id}/items/`,\r\n                    {\r\n                        name: \"test new item\",\r\n                        value: \"1\",\r\n                        unit: \"piece\",\r\n                        is_checked: false\r\n                    }\r\n                )\r\n                if (response.status == 201) {\r\n                    this.shoppingList.items.push(response.data.data)\r\n                    let newlyAddedItem = response.data.data\r\n                    console.log(`succesfully created new item with id ${newlyAddedItem.id}`)\r\n                } else {\r\n                    console.log(\"no success with creating a new item, but we didn't get an outright exception\")\r\n                }\r\n                \r\n            }\r\n            catch (error) {\r\n                console.log(error)\r\n            }\r\n\r\n            // TODO: Set focus on the newly added item's name-input-field.\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\ntr:nth-child(2n) {\r\n    background-color: aliceblue;\r\n}\r\n#title {\r\n    font-size: 30px;\r\n    font-weight: normal;\r\n    border: none;\r\n    margin-bottom: 20px;\r\n}\r\n</style>","<template>\r\n\r\n    <!-- a single editable item in the list of items for the currently viewed shopping list.-->\r\n    <td>\r\n        <input v-model.lazy=\"editedItem.name\"  class=\"item-attribute-input\">  \r\n    </td>\r\n    <td>\r\n        <input v-model.lazy=\"editedItem.value\"  class=\"item-attribute-input\">\r\n    </td>\r\n    <td>\r\n        <select v-model.lazy=\"editedItem.unit\"  class=\"item-attribute-input\">\r\n            <option disabled value=\"\">Unselected</option>\r\n            <option value=\"piece\">Piece</option>\r\n            <option value=\"package\">Package</option>\r\n            <option value=\"grams\">Grams</option>\r\n            <option value=\"kilograms\">Kilograms</option>\r\n        </select>\r\n    </td>\r\n    <td>\r\n        <input v-model.lazy=\"editedItem.is_checked\"  type=\"checkbox\">\r\n    </td> \r\n    <td>id: {{ item.id }}</td>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    emits: ['changed-item', 'deleted-item'],\r\n    props: {\r\n        item: {\r\n            type: Object,\r\n            required: true\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            hasLoadedInitialValue: false,\r\n            editedItem: {\r\n                name: \"\",\r\n                value: \"\",\r\n                unit: \"\",\r\n                is_checked: true,\r\n                id: 0\r\n            } \r\n        }\r\n    },\r\n    mounted() {\r\n        this.editedItem = { ...this.item }\r\n    },\r\n    watch: {\r\n        editedItem: {\r\n            handler(newVal) {\r\n                                \r\n                // if this is the first time the values has changed\r\n                // (this will be the case upon the initial loading of the values from the server)\r\n                if (!this.hasLoadedInitialValue) \r\n                {\r\n                    //console.log(\"not emitting anything, since this is the initial load\")\r\n                    this.hasLoadedInitialValue = true\r\n                    return;\r\n                }\r\n\r\n                console.log('changed on client: ', newVal)\r\n\r\n                if (newVal.name === \"\") {\r\n                    this.$emit('deleted-item', newVal) \r\n                    return;\r\n                }\r\n\r\n                this.$emit('changed-item', newVal) \r\n            },\r\n            deep: true\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.item-attribute-input {\r\n    border: none;\r\n}\r\n\r\ninput {\r\n    background-color: transparent;\r\n}\r\n</style>","import { render } from \"./shopping-list-detail-item.vue?vue&type=template&id=2d77c446\"\nimport script from \"./shopping-list-detail-item.vue?vue&type=script&lang=js\"\nexport * from \"./shopping-list-detail-item.vue?vue&type=script&lang=js\"\n\nimport \"./shopping-list-detail-item.vue?vue&type=style&index=0&id=2d77c446&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./shopping-list-detail.vue?vue&type=template&id=c21f3db8\"\nimport script from \"./shopping-list-detail.vue?vue&type=script&lang=js\"\nexport * from \"./shopping-list-detail.vue?vue&type=script&lang=js\"\n\nimport \"./shopping-list-detail.vue?vue&type=style&index=0&id=c21f3db8&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["key","cellspacing","cellpadding","_createElementVNode","$data","shoppingList","_createElementBlock","_Fragment","value","title","onChange","_cache","args","$options","changedTitle","id","_hoisted_2","_hoisted_3","_renderList","items","item","_createVNode","_component_ShoppingListDetailItem","onChangedItem","changeItem","onDeletedItem","deleteItem","onClick","$event","newItem","_hoisted_4","deleteShoppingList","_hoisted_5","_hoisted_6","goToAllListsView","_hoisted_7","_hoisted_8","_hoisted_9","_createTextVNode","_hoisted_1","_createStaticVNode","editedItem","name","class","lazy","unit","is_checked","type","_toDisplayString","$props","emits","props","Object","required","data","hasLoadedInitialValue","mounted","this","watch","handler","newVal","console","log","$emit","deep","__exports__","shoppingLists","axios","get","find","$route","params","error","components","ShoppingListDetailItem","methods","response","delete","status","$router","push","event","setOldTitle","oldTitle","newTitle","target","put","itemToDelete","filter","post","newlyAddedItem","render"],"sourceRoot":""}