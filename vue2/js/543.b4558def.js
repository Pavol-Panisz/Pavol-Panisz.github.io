"use strict";(self["webpackChunkproject1"]=self["webpackChunkproject1"]||[]).push([[543],{1543:function(t,s,i){i.r(s),i.d(s,{default:function(){return b}});var e=i(2420),n=i(6764);const o=(0,e.Lk)("h1",null,"Lists",-1),l={key:0},a=(0,e.Lk)("br",null,null,-1),p=(0,e.Lk)("br",null,null,-1),r=(0,e.Lk)("br",null,null,-1);function u(t,s,i,u,h,c){const d=(0,e.g2)("AShoppingListBrief");return(0,e.uX)(),(0,e.CE)(e.FK,null,[o,h.shoppingLists?h.shoppingLists.error?((0,e.uX)(),(0,e.CE)(e.FK,{key:1},[(0,e.eW)(" Pri načítaní dát nastala chyba: "+(0,n.v_)(h.shoppingLists.error),1)],64)):((0,e.uX)(!0),(0,e.CE)(e.FK,{key:2},(0,e.pI)(h.shoppingLists,(t=>((0,e.uX)(),(0,e.CE)("span",{key:t.id},[(0,e.bF)(d,{title:t.title,items:t.items,id:t.id},null,8,["title","items","id"])])))),128)):((0,e.uX)(),(0,e.CE)("p",l,"Načítavam dáta")),(0,e.Lk)("button",{onClick:s[0]||(s[0]=t=>c.addNewList())}," add new list "),a,p,r],64)}i(3926);var h=i(3955),c=i(6718);const d=["href"],g={class:"shopping-list-brief"},k={key:0};function L(t,s,i,o,l,a){return(0,e.uX)(),(0,e.CE)("a",{href:`/shopping-lists/${i.id}`,onClick:s[0]||(s[0]=(0,c.D$)((t=>a.openShoppingListDetail(i.id)),["prevent"])),class:"shopping-list-link"},[(0,e.Lk)("div",g,[(0,e.Lk)("h2",null,(0,n.v_)(i.title),1),(0,e.Lk)("ul",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(i.items.slice(0,l.showItemCount),(t=>((0,e.uX)(),(0,e.CE)("li",{key:t.id},[(0,e.Lk)("span",{class:(0,n.C4)({"item-checked":t.is_checked})},(0,n.v_)(t.name)+" "+(0,n.v_)(t.value)+" "+(0,n.v_)(t.unit),3)])))),128)),i.items.length>l.showItemCount?((0,e.uX)(),(0,e.CE)("li",k," ... and "+(0,n.v_)(i.items.length-l.showItemCount)+" more ",1)):(0,e.Q3)("",!0)])])],8,d)}var m={props:{title:String,items:Object,id:Number},data(){return{showItemCount:3}},methods:{openShoppingListDetail(t){this.$router.push({name:"Shopping List - Detail",params:{id:t}})}}},v=i(8493);const w=(0,v.A)(m,[["render",L]]);var C=w,f={data(){return{shoppingLists:null}},async mounted(){try{const{data:{data:t}}=await h.A.get("https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists");this.shoppingLists=t}catch(t){console.error("Error:",t),this.shoppingLists={error:t}}},components:{AShoppingListBrief:C},methods:{async addNewList(){try{var t=await h.A.post("https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/",{title:"new list"});201==t.status?(this.shoppingLists.push(t.data.data),console.log("succesfully added a new shopping list"),this.$router.push(`/shopping-list/${t.data.data.id}`)):console.log(`unknown error (but not outright exception) while  trying to create a new list. status ${t.status}`)}catch(s){console.log(s)}}}};const y=(0,v.A)(f,[["render",u]]);var b=y}}]);
//# sourceMappingURL=543.b4558def.js.map